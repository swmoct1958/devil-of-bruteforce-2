### 第3章 Python ―― 直感と簡潔さの極み

#### Pythonが体現する「エレガンス」
Pythonの設計哲学である「The Zen of Python」には、｀｀｀Simple is better than complex（複雑であるよりは、単純である方が良い）｀｀｀ という言葉があります。魔法陣の実装においても、Pythonは第2章で描いた「設計図」を最も美しく、そして直感的に写し取ることができます。

##### 実装のポイント
* 3-1. スライスとリスト内包表記による盤面管理：Python特有の柔軟な配列操作は、行列の和を検証するロジックを簡潔に記述することを可能にします。
* 3-2. 動的型付けがもたらすプロトタイピングの速さ：一人法人として、論理の正当性を素早く検証し、論理の欠陥を洗い出すフェーズにおいて、Pythonの右に出る言語はありません。

##### Pythonによる実装コード
｀｀｀python
import time

def is_magic(board, n, s):
    # 行の和の確認
    for i in range(n):
        if sum(board[i*n : (i+1)*n]) != s:
            return False
    # 列の和の確認
    for i in range(n):
        if sum(board[i::n]) != s:
            return False
    return True

def solve(n, s, board=None, used=None):
    if board is None:
        board = []
        used = [False] * (n * n + 1)
    
    if len(board) == n * n:
        return 1 if is_magic(board, n, s) else 0

    count = 0
    for val in range(1, n * n + 1):
        if not used[val]:
            used[val] = True
            board.append(val)
            count += solve(n, s, board, used)
            board.pop()
            used[val] = False
    return count
｀｀｀

##### 著者による考察
このコードの美しさは、｀｀｀「何をするか」がそのまま「書いてある」｀｀｀ 点にあります。受託開発において、納期が厳しく、仕様変更が頻発するフェーズでは、このような「読み違えの起きないコード」が最大の武器になります。しかし、計算速度という面では、Pythonは広大な探索空間に対しては非力です。

次節では、この「論理」を維持したまま、速度の極限に挑むC++の世界へ足を踏み入れます。
